# 环境准备

## 软件安装

实现自定义PyTorch算子支持图模式需要安装如下软件：

-   PyTorch：本章所有样例建议下载2.6.0版本
-   Ascend Extension for PyTorch（torch\_npu）：注意与CANN等软件配套关系。
-   CANN软件：注意与torch\_npu等软件配套关系。
-   固件/驱动等：注意与CANN、torch\_npu等软件配套关系。

安装前请注意**软件版本配套关系**（《版本说明》），安装指导参考《PyTorch 框架特性指南》中的“基于OpPlugin算子适配开发”章节，完成编译及运行依赖项的安装，保证可以正常编译、安装及执行torch\_npu。

基于torch\_npu自定义算子接入流程开发，与torch\_npu源码一起编译打包，该方式便于您与他人共享自定义算子。

## torch\_npu源码下载

下载[torch\_npu源码](https://gitcode.com/Ascend/pytorch)时，请注意与当前运行环境的PyTorch版本匹配。以PyTorch 2.6.0版本为例，下载命令如下：

```bash
git clone https://gitcode.com/Ascend/pytorch.git -b v2.6.0 --recursive
cd pytorch
```
